language: php

cache:
  directories:
    - "$HOME/.composer/cache"
    - vendor

php:
  - 7.1
  - 7.2
  - 7.3

before_install:
  - travis_retry composer self-update

install:
  - travis_retry composer install --dev --no-interaction

script:
  - php vendor/bin/phpunit --coverage-clover build/coverage/xml

after_script:
  - travis_retry php vendor/bin/codacycoverage clover build/coverage/xml

notifications:
  webhooks: "$TEAMS_NOTIFY_WEBHOOK"

env:
  global:
    - secure: iR5LGpQTPAzTVXs2wvq8T6Uv4tn+tPvKPuZggRTUZGAX7tdHJEcRPWMFeupzA3os5vwVhR2VTDS2SFEFmt3o1BjCKEdCuzGaECa+XtEI3g20ClJWn4Vrf9iDSws+32I5xHrTNOBFKONfE5rCYKRVjw2j8gEp8DPcksO6t1Mp/40ggRIIFOi0xv5kyy07BvXXSa0doyZ7xsXuB5eg8rXS8lsv+1P/uuifWU0JQkPaWGN1nFAG2bIPPiGzA0DbgWmldaqm+lczaAlImTDZwv3LHK/TDK6ftcU2/Rpq4u62Uprp0++n/sghd1mWGv+AzZrqSYKoti1V6f1MQJUdNX/5OLQPkBICsMBZLcdErZxAzUFkDAt4Df2veo31rq2YRPJoWPGpUE1hgIfsV5P9faYxMwaoR4ljCtnRJhSJjj+TP0eiE+sfYVWUKpZeyxZ7aIpnEtW22bJf5iz5S+F1aNyfE6gZHwJXR24bl5Ej3rqE4cCSIu+k6xmELmzpaR7PNEn9AFOuI320+1epJ/SUwejvvwuC0AVo9JK64UBd+2Z00KzZuMJfOiM2OpmFY4xPnqEjajuoZO75XCRB4MTCaJPPhlZdux8fMx8DFk02erx4AQ8Jj9FAa3YJmRlrOXCZll/tk7f+Sd7utgDaurQpweXwQqT1THyCyda3HJjg+r9BBpM=
    - secure: kgue3TZOMDk6Pk6DF88xSI/wJebdxpK5IJJc7WwTV+wvfcYwC85if5EVVvM4MoOrwZ5G4QCCrtNZKK9SZbV08M1dgRvapsq4e/ZTkf5+y34LSQvfVxRM6qV9XF51DdM1YutV2TmMl6TmmzglI9QYvCbJcT34XbZ5rdS9hit+YYmA8maqBIDXvGv4MK4lO40ge929ddX9z4KDZTnANvQOVM5IjTQzVh3Rj+NadN1ta0AU/K2k2xnL/S1PLvTNtM4PvHz7TRNGlU/qAt+7c/CJ6uHzI1B+ciCh6mKZqoDAe1tUKtIODE+ArAmLjMsxFLa/rJRscl9iaoLISpfz6mhnXMCXcucph88lBDFO7mNzNjFR0Gy4QJW443mUj07ynliARdTwsy7vaw7UhB/XPOWny0QpxnjHI3IzKNOcfVsQIhdJRcVUIEMuAFLYHSdormoomobBcbiQMgZfocgCaq2ukWDF4C3e3+GuLq0fXSwIortD2omSWgTI/0mn6Pi2JxnvORghA6GtBwlqC3hrHP2fLS5NIJgv97eQqQl7bBb7V6/meeVbfCiUKPrVTgZsQlGguiBQQ31VSNGJgJsDMasi6oi4G06wZZe3azPu+aezV4UV6mlTYSCkec+5aPJ8xtNMkrZLwvlJ30TEI0VXITtcqkcVwsxlbbRFte4RSqwkLjw=
